{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>juju</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <meta content="Free HTML Templates" name="keywords">
    <meta content="Free HTML Templates" name="description">

    <!-- Favicon -->
    <link href="{% static 'images/JUJU__2_-removebg-preview' %}" rel="icon">

    <!-- Google Web Fonts -->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600&family=Roboto:wght@500;700&display=swap" rel="stylesheet">

    <!-- Icon Font Stylesheet -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/all.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.4.1/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Libraries Stylesheet -->
    <link href="lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">

    <!-- Customized Bootstrap Stylesheet -->
    <link href="{% static 'user/css/bootstrap.min.css' %}" rel="stylesheet">

    <!-- Template Stylesheet -->
    <link href="{% static 'css/style.css' %}" rel="stylesheet">
</head>

<body>


  <header>
    <nav>
      <div class="logo">
        <img
          class="logo"
          src="{% static 'images/JUJU__2_-removebg-preview.png' %}"
          alt="juju Logo"
        />
      </div>
      <ul class="nav-links">
        <li><a class="navright" href="#">Home</a></li>
        <li><a class="navright" href="{% url 'menu' %}">Menu</a></li>
        <li><a class="navright" href="{% url 'map' %}">Map</a></li>
        <li><a class="navright" href="#">About</a></li>
      </ul>
      <div class="auth-buttons">
        <button class="btn-secondary" style="margin-right: 0">
          <a href="{% url 'signup' %}">Sign up</a>
        </button>
        <button
          class="btn-primary"
          style="margin-left: 10px; margin-right: 70px"
        >
          <a href="{% url 'userlogin' %}">Log In</a>
        </button>
      </div>
    </nav>
  </header>


  
      <!-- leaflet css  -->
      <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol@v0.74.0/dist/L.Control.Locate.min.css" />
  
  <script src="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol@v0.74.0/dist/L.Control.Locate.min.js" charset="utf-8"></script>
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol@0.74.4/dist/L.Control.Locate.min.css" />
  
      <style>
          body {
              margin: 0;
              padding: 0;
          }
  
          #map {
              width: 100%;
              height: 100vh;
          }
      </style>
  </head>
  
  <body>
  <body>
      <div id="map"></div>
  </body>
  </html>
  
  <!-- leaflet js  -->
  <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/leaflet.locatecontrol@0.74.0/dist/L.Control.Locate.min.js" charset="utf-8"></script>
  
  
  <script>
    var planes = [
     {% for dt in data %}
                 ["{{dt.restaurant_name}}", {{dt.latitude}}, {{dt.longitude}}],
         {% endfor %}
                 ];
 
       var greenIcon = L.icon({
          iconUrl: '{% static 'images/pin2.svg' %}',
         //  shadowUrl: '{% static 'map/leaf-shadow.png' %},
 
          iconSize:     [40, 40], // size of the icon
          //shadowSize:   [50, 64], // size of the shadow
          iconAnchor:   [22, 94], // point of the icon which will correspond to marker's location
          shadowAnchor: [4, 62],  // the same for the shadow
          popupAnchor:  [-3, -76] // point from which the popup should open relative to the iconAnchor
      });
 
     // Map initialization
     var map = L.map('map');

// Get the user's location using Geolocation API
navigator.geolocation.getCurrentPosition(function(position) {
  var userLat = position.coords.latitude;
  var userLng = position.coords.longitude;

  // Set the map's initial view to the user's location
  map.setView([userLat, userLng], 15); // Adjust the zoom level as needed

  // Add other map layers, markers, etc. as needed

}, function(error) {
  // Handle error if user's location cannot be retrieved

  // Set a default view if user's location is not available
  map.setView([28.3949, 84.1240], 8); // Set your desired default center and zoom level

  // Add other map layers, markers, etc. as needed
});


 
     //osm layer
     var osm = L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
         attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'   });
     osm.addTo(map);
 
 
 
     L.control.locate().addTo(map);
     for (var i = 0; i < planes.length; i++) {
       marker = new L.marker([planes[i][1],planes[i][2]], {icon: greenIcon})
          .bindPopup(planes[i][0])
          .addTo(map).openPopup();
    }
 
 
 
 </script>






    <!-- Back to Top -->
    <a href="#" class="btn btn-secondary py-3 fs-4 back-to-top"><i class="bi bi-arrow-up"></i></a>


    <!-- JavaScript Libraries -->
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="{% static 'user/lib/easing/easing.min.js' %}"></script>
    <script src="{% static 'user/lib/waypoints/waypoints.min.js' %}"></script>
    <script src="{% static 'user/lib/counterup/counterup.min.js' %}"></script>
    <script src="{% static 'user/lib/owlcarousel/owl.carousel.min.js' %}"></script>

    <!-- Template Javascript -->
    <script src="{% static 'user/js/main.js' %}"></script>

    <footer>
      <div class="footer-bottom">
        <div class="footer-logo">
          <img
            class="logo"
            src="{% static '/images/JUJU__2_-removebg-preview.png' %}"
            alt=""
          />
        </div>
        <p>&copy;Team Unary 2023 Copyright</p>
        <div class="social-icons">
          <a href="#"><img src="{% static '/images/facebookIcon.svg' %}" alt="Facebook" /></a>
          <a href="#"><img src="{% static '/images/twitIcon.svg' %}" alt="Twitter" /></a>
          <a href="#"><img src="{% static '/images/instaIcon.svg' %}" alt="Instagram" /></a>
        </div>
      </div>
    </footer>
</body>

</html>